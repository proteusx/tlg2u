/* -----------------------
 *    escape_codes.h
 * ----------------------*/

unsigned long xucode;    /* Temp unicode symbol holder */
 
/*
* Code arrays for escape sequences
* See function:  handle_escape_codes
*/

/* Punctuation codes (%) 0 - 188 */
/*FIXME check or find symbols for %47, (%50 - %81), %98, %105, %145, %157, %171
 * %19 en-dash 0x2013 used also in the canon. best to use 0x002d */
/* returns '%' 0x025  if not exists
 * FIXME must escape '% = 0x0025' for it is a comment in TEX */
#define MAX_PUNCTUATION 188
unsigned int punctuation[] = {

  0X2020,  0X003F,  0X002A,  0X002F,  0X0021,  0X007C,  0X003D,  0X002B,  0X0025,  0X0026,
  0X003A,  0X2022,  0X002A,  0X2021,  0X00A7,  0X02C8,  0X00A6,  0X2016,  0X0027,  0X002D,
  0X0301,  0X0300,  0X0302,  0X0308,  0X0342,  0X0327,  0X0304,  0X0306,  0X0308,  0X0324,
  0X02BC,  0X02BD,  0X00B4,  0X0060,  0X1FC0,  0X1FCE,  0X1FDE,  0X1FDD,  0X1FDF,  0X00A8,
  0X23D1,  0X2013,  0X23D5,  0X00D7,  0X23D2,  0X23D3,  0X23D4, 0X10111,  0X0025,  0X0025,
  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,
  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,
  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,
  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,
  0X0025,  0X0485,  0X0486,  0X1DC0,  0X0307,  0X1DC1,  0X035C,  0X0307,  0X0022,  0X2248,

/* ---------------------------------------- 100 -----------------------------------------*/
  0X003B,  0X0023,  0X2018,  0X005C,  0X005E,  0X2016,  0X224C,  0X007E,  0X00B1,  0X00B7,
  0X25CB,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,
  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X032F,  0X030C,  0X2020,
  0X0307,  0X0025,  0X0385,  0X1FCD,  0X1FCF,  0X0025,  0X0025,  0X0025,  0X23D1,  0X0025,
 0X10112,  0X23D6,  0X2510,  0X0025,  0X23D1,  0X2013,  0X00B7,  0X030A,  0X030C,  0X0328,
  0X007C,  0X002D,  0X2219,  0X002D,  0X2234,  0X2235,  0X0025,  0X0025,  0X2042,  0X00D7,
  0X002D,  0X00F7,  0X0338,  0X00B6,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,  0X0025,
  0X0359,  0X002F,  0X02BC,  0X02BD,  0X00B4,  0X0060,  0X1FC0,  0X0313,  0X0314,  0X0323,
  0X033D,  0X032D,  0X0361,  0X035D,  0X035E,  0X2319, 0X1D242,  0X00AC,  0X031A,
};

/* Text Symbols (#) 0 - 1532
 * If preceded by upper case (*) the are dealt seppartely
 * by the beta_code routine.
 * This table contains only lower case characters.
 * FIXME characers >= 2000 musical symbols.
 */
#define MAX_TEXT_SYMBOLS 1533
unsigned int text_symbols[] = {
/*
*   0        1         2        3        4       5         6       7        8        9
*/
  0X0374,  0X03DF,  0X03DB,  0X03D9,  0X03DE,  0X03E1,  0X2E0F,  0X0023,  0X2E10,  0X0301,
  0X03FD,  0X03FF,  0X2014,  0X203B,  0X2E16,  0X003E,  0X03FE,  0X002F,  0X003C,  0X0300,
 0X10175, 0X10176,  0X0375,  0X03D8, 0X10176, 0X10176,  0X2E0F,  0X221A,  0X0023,  0X00B7,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X00B7,  0X205A,  0X205D,  0X0023,  0X2059,  0X0023,  0X0023,  0X0023,  0X03FD,
  0X0399, 0X10142, 0X10143,  0X0394, 0X10144,  0X0397, 0X10145,  0X03A7, 0X10146,  0X039C,
  0X002E,  0X00B7,  0X02D9,  0X205A,  0X205D,  0X002E,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0308,  0X0027,  0X02CA,  0X02CB,  0X1FC0,  0X02BD,  0X02BC,  0X0394,  0X0023,  0X0023,
  0X2014,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,

/* ---------------------------------------- 100 -----------------------------------------*/
 0X10186, 0X1017B,  0X0023,  0X039B,  0X0023,  0X0023, 0X10184,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023, 0X10188, 0X1017C, 0X10140, 0X10189, 0X1017C, 0X10183,  0X03BB, 0X1017D,
 0X10184,  0X03BE, 0X1017D, 0X1017C,  0X0023,  0X0023,  0X0023,  0X03BB,  0X03FC,  0X039B,
 0X1018A, 0X10177,  0X03B2,  0X03C7,  0X0393,  0X02D9,  0X03A3,  0XF022E,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X221E,  0X2014,  0X205A,  0X2026,  0X2C80,  0X2014,  0X2310,  0X0023,  0X2237,  0X2237,
  0X007E, 0X10175,  0X25A1,  0X0375,  0X0023,  0X00D7,  0X2A5A,  0X0023,  0X0023, 0X10175,
  0X0049, 0X10175, 0X10176, 0X10175,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,

/* ---------------------------------------- 200 -----------------------------------------*/
  0X2643,  0X25A1,  0X264F,  0X264D,  0X2640,  0X2650,  0X2644,  0X2609,  0X263F,  0X263E,
  0X2642,  0X2651,  0X264C,  0X2648,  0X264E,  0X264A,  0X264B,  0X2653,  0X2652,  0X2649,
  0X260D,  0X263D,  0X260C,  0X2605,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
 0X10177,  0X260B,  0X2651,  0X0023,  0X264C,  0X264E,  0X2126,  0X2127,  0X0023,  0X03C0,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,

/* ---------------------------------------- 300 -----------------------------------------*/
  0X0023,  0X0023,  0X0023,  0X003E,  0X0023,  0X2E0E,  0X003D,  0X2E0E,  0X2E0E,  0X2E0E,
  0X2E0E,  0X2E0E,  0X2E0E,  0X2E0E,  0X2E0E,  0X2E0E,  0X0023,  0X0023,  0X0023,  0X25CF,
  0X2629,  0X2629,  0X2627,  0X003E,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,

/* ---------------------------------------- 400 -----------------------------------------*/
  0X0370,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0283,  0X2E10,  0X2E11,  0X2E10,  0X2E11,  0X2E0E,  0X2E0F,  0X2573,  0X00B7,
  0X2014,  0X007C,  0X0023,  0X0023,  0X0023,  0X2627,  0X2138,  0X2192,  0X2E0E,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0283,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,

/* ---------------------------------------- 500 -----------------------------------------*/
  0X0023,  0X0023,  0X2609,  0X0023,  0X2E0E,  0X205C,  0X2E15,  0X2E14,  0X203B,  0X0305,
  0X0023,  0X0023,  0X03FD,  0X0023,  0X0023, 0X10185,  0X0023, 0X10185, 0X10179,  0X2191,
  0X2629,  0X0023,  0X0023,  0X2E13,  0X2297,  0X271B,  0X2190,  0X02C6,  0X03BB,  0X204B,
  0X0023,  0X035C,  0X2E12,  0X03DA,  0X0302,  0X0023,  0X0023,  0X0023,  0X01B7,  0X0023,
  0X0023,  0X0023,  0X03A1,  0X0023,  0X2058,  0X0023,  0X0023,  0X0023,  0X2016,  0X2263,
  0X2E2E,  0X25CC,  0X05E6,  0X05D1,  0X22BB,  0X2208,  0X2629,  0X0023,  0X0023,  0X0023,
  0X0023,  0X2191,  0X0305, 0X1D242, 0X1D243, 0X1D244, 0X1D231, 0X1D213, 0X1D233, 0X1D236,
  0X03F9, 0X10143, 0X1D229, 0X1D212,  0X0393, 0X1D215, 0X1D216,  0X03A6,  0X03A1,  0X039C,
  0X0399,  0X0398, 0X1D20D,  0X039D,  0X2127,  0X0396, 0X1D238,  0X0395, 0X1D208, 0X1D21A,
 0X1D23F, 0X1D21B, 0X1D240,  0X039B,  0X22B8,  0X0036,  0X0039,  0X230B,  0X0394, 0X1D214,

/* ---------------------------------------- 600 -----------------------------------------*/
 0X1D228,  0X0023, 0X1D237,  0X03A0, 0X1D226,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023, 0X1D230, 0X1D21E,  0X03A9,  0X0023,  0X03BB,
  0X0023, 0X1D205, 0X1D201,  0X2127,  0X03FD,  0X0023,  0X0023, 0X1D217,  0X039F,  0X039E,
  0X0394,  0X039A, 0X1D20E, 0X1D232, 0X1D239, 0X1D200, 0X1D203, 0X1D206, 0X1D209, 0X1D20C,
 0X1D211,  0X03A9,  0X0397, 0X1D21D, 0X1D21F, 0X1D221, 0X1D225, 0X1D22C, 0X1D235, 0X1D20B,
 0X1D20F,  0X03A7,  0X03A4, 0X1D219, 0X1D21C, 0X1D202, 0X1D224, 0X1D22E, 0X1D23E, 0X1D241,
  0X0391,  0X0392,  0X03A5,  0X03A8, 0X1D23A, 0X1D234, 0X1D22F, 0X1D22D, 0X1D210, 0X1D20A,
 0X1D207, 0X1D21B, 0X1D218, 0X1D223, 0X1D222, 0X1D240, 0X1D23D,  0X03BC, 0X1D220, 0X1D204,
  0X0023,  0X0023,  0X0023,  0X2733, 0X1D22A,  0X0023,  0X0023,  0X0023,  0X03BC, 0X10175,
  0X27D8,  0X27C0,  0X27C1,  0X0023,  0X0396,  0X2014, 0X1D227, 0X1D245,  0X0023,  0X0023,

/* ---------------------------------------- 700 -----------------------------------------*/
  0X205E,  0X0023,  0X0023,  0X25CB,  0X2014,  0X0023,  0X0023,  0X0023,  0X0023,  0X223B,
  0X039A,  0X03FB,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X2E00,  0X2E01,  0X2E06,
  0X2E07,  0X0023,  0X2135, 0X1D516,  0X210C, 0X1D510,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X23D8,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0661,  0X0662,  0X0663,  0X0664,  0X0665,  0X0666,  0X0667,  0X0668,  0X0669,
  0X0660,  0X0023,  0X02D9,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,

/* ---------------------------------------- 800 -----------------------------------------*/
  0X2733, 0X10141, 0X10140,  0X03A7,  0X002F,  0X03A4,  0X039A, 0X10166, 0X10148,  0X0023,
  0X0023,  0X03A4, 0X10148, 0X10149, 0X1014A, 0X1014B, 0X1014C, 0X1014D, 0X1014E,  0X0023,
  0X0023,  0X03A3, 0X1014F, 0X10150, 0X10151, 0X10152, 0X10153, 0X10154,  0X0023, 0X10155,
 0X10147, 0X10147, 0X10156,  0X039C, 0X10157,  0X03A7,  0X03A3,  0X03A4, 0X10143, 0X10141,
  0X007C,  0X007C,  0X00B7, 0X1015B,  0X205D, 0X10158, 0X10110, 0X1015E, 0X10112,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023, 0X10144,  0X0023,  0X0023, 0X10145,  0X03A7,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,

/* ---------------------------------------- 900 -----------------------------------------*/
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023, 0X1D228,  0X0023,  0X0023, 0X1D217, 0X1D232,  0X0057, 0X1D20B, 0X1D214,
  0X0023,  0X0023,  0X2733,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X01A7,  0X007E,
  0X0023, 0X1D205,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,

/* ---------------------------------------- 1000 -----------------------------------------*/
 0X1017C, 0X1017D, 0X1017E, 0X1017F, 0X10180,  0X03A7,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X003C,  0X0394,  0X0397,  0X0399,  0X039B,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,

/* ---------------------------------------- 1100 -----------------------------------------*/
  0X2183,  0X0023,  0X0023,  0X0323,  0X0023,  0X004D,  0X0023,  0X0053,  0X0058,  0X003D,
  0X002D,  0X00B0,  0X0023,  0X0023, 0X1D201,  0X007C,  0X01A7,  0X005A,  0X0023,  0X0110,
  0X0023,  0X005A,  0X0023,  0X0023,  0X211E,  0X0023,  0X004F,  0X0076,  0X0049,  0X005A,
  0X005C,  0X005C,  0X005C,  0X005C,  0X0023,  0X0039,  0X2112,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,

/* ---------------------------------------- 1200 -----------------------------------------*/
  0X00A2,  0X2021,  0X20A4,  0X00DF,  0X00B0,  0X0023,  0X0023,  0X0023,  0X0023,  0X0127,
  0X0023,  0X0023,  0X0044,  0X0152,  0X0153,  0X00C6,  0X00E6,  0X0023,  0X0023,  0X0024,
  0X0040,  0X0131,  0X0130,  0X0069,  0X2295,  0X00A9,  0X2731,  0X2021,  0X0023,  0X0023,
  0X25AD,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,

/* ---------------------------------------- 1300 -----------------------------------------*/
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X004D,  0X223D,  0X006E,  0X0023,  0X0292,  0X02D9,  0X223B,  0X0023,
  0X0375,  0X0023,  0X2644,  0X03B6,  0X03B8,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X002F,  0X0023,  0X003E, 0X1017E,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,

/* ---------------------------------------- 1400 -----------------------------------------*/
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,

/* ---------------------------------------- 1500 -----------------------------------------*/
  0X03B3,  0X0023,  0X03A7,  0X0023,  0X0023,  0X0023,  0X0300,  0X0023,  0X0023,  0X0023,
  0X0023,  0X0023,  0X003C, 0X10175,  0X00F7, 0X1D20F,  0X0023,  0X0023, 0X1D229,  0X0023,
  0X0023,  0X0222,  0X0023,  0X205B,  0X0023,  0X0023,  0X0023,  0X0023,  0X0023,  0X2227,
  0X2228,  0X03CF,  0X03D7,
};
/* Quotation Marks (") 0 - 60
 * only 0 - 8 are used */
/* FIXME  check pairs */
#define MAX_QUOTATION 61
unsigned int quotation_open[MAX_QUOTATION]; /* used to keep track of quotation pairs */
unsigned int quotation_open_symbol[] = {
	0X201C, 0X201c, 0X201e, 0X2018, 0X201B, 0X201A, 0X00AB, 0X2039, 0X201C, 0X0022,
	0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022,
	0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022,
	0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022,
	0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022,
	0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022,
	0X0022
	};
unsigned int quotation_close_symbol[] = {
	0X201D, 0X201D, 0X201D, 0X2019, 0X2019, 0X2019, 0X00BB, 0X203A, 0X201E, 0X0022,
	0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022,
	0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022,
	0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022,
	0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022,
	0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022, 0X0022,
	0X0022
	};


/* Brackets ([) 0 - 85 */
/* FIXME : check pairs, find symbols for [9, [10, [13, [14, [15, [33-[69 */
#define MAX_BRACKET 86
unsigned int bracket_open[MAX_BRACKET];
unsigned int bracket_open_symbol[] = {
  0X005B,  0X0028,  0X2329,  0X007B,  0X27E6,  0X231E,  0X231C,  0X231C,  0X231E,  0X2027,
  0X005B,  0X208D,  0X2192,  0X005B,  0X007C,  0X005B,  0X27E6,  0X230A,  0X27EA,  0X005B,
  0X23A7,  0X23AA,  0X23A8,  0X23A9,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,
  0X239B,  0X239C,  0X239D,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,
  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,
  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,
  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,
  0X2E02,  0X2E04,  0X2E09,  0X2E0B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,  0X005B,
  0X002F,  0X002F,  0X2E20,  0X2E21,  0X2E26,  0X2E28,
	};
unsigned int bracket_close_symbol[] = {
  0X005D,  0X0029,  0X232A,  0X007D,  0X27E7,  0X231F,  0X231D,  0X231F,  0X231D,  0X2027,
  0X005D,  0X208E,  0X2190,  0X005D,  0X003A,  0X005D,  0X27E7,  0X230A,  0X27EB,  0X005D,
  0X23AB,  0X23AA,  0X23AC,  0X23AD,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,
  0X239E,  0X239F,  0X23A0,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,
  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,
  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,
  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,
  0X2E03,  0X2E05,  0X2E0A,  0X2E0C,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,  0X005D,
  0X002F,  0X002F,  0X2E21,  0X2E20,  0X2E27,  0X2E29,
	};

/* Quasi-Brackets (< ) 0 - 100  are text formating codes.
 *  e.g. sub/super script text, under/overline text, etc.
 *
 * FIXME
 * For the time being enclose such text in angle brackets
 * and later, if needed, apply formating manually.
 * Formating should be done by LaTeX. Maybe
 * leave them as they are and handle externally by perl.
 *
 */
#define MAX_QUASI_BRACKET 101
unsigned int quasi_bracket_open[MAX_QUASI_BRACKET];
unsigned int quasi_bracket_open_symbol[] = {
	0X2329, 0X003C, 0X2035, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C,
	0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X2035, 0X003C, 0X003C, 0X2035,
	0X2329, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C,
	0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C,
	0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C,
	0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C,
	0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C,
	0X25BA, 0X0028, 0X0028, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C,
	0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C,
	0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C, 0X003C,
	0X003C,
	};
unsigned int quasi_bracket_close_symbol[] = {
	0X232A, 0X003E, 0X2032, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E,
	0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X2032, 0X003E, 0X003E, 0X2032,
	0X232A, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E,
	0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E,
	0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E,
	0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E,
	0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E,
	0X25C4, 0X0029, 0X0029, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E,
	0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E,
	0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E, 0X003E,
	0X003E,
	};

#define MAX_TEXT_MARKUP 95
/* int margin_flag = 0;   Defined in tlg.h start with the margin flag reset */
/* -------------------------------------------------------------------------------
 * Texttual Mark-Up ({) 0 - 94
 * The table below is not of unicode chars
 * each entry indicates what to do for each {n code:
 * 0 = enclose text in {}
 * 1 = marginalia: Text goes to margin
 * 2 = Title: render in Bold font
 * 3 = Stage direction, speaker designation etc.  {bold text}
 * -------------------------------------------------------------------------------*/
unsigned int text_markup[] =
{
	0x0003, 0x0002, 0x0001, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0003, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0003, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0001, 0x0000, 0x0000, 0x0000, 0x0000,

};
